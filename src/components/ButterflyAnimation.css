.butterfly-cursor {
  position: fixed;
  transform: translate(-50%, -50%);
  opacity: 0;
  transition: opacity 1s ease;
  pointer-events: none;
  z-index: 9999;
  perspective: 200px;
  transform-style: preserve-3d;
}

.butterfly-cursor.visible {
  opacity: 1;
}

.butterfly {
  position: relative;
  width: 80px;
  height: 60px;
  transform-style: preserve-3d;
  transform-origin: center center;
  filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.3));
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.butterfly.flapping .butterfly-wing-upper-left {
  animation: wingFlapUpperLeft 0.4s ease-in-out infinite;
}

.butterfly.flapping .butterfly-wing-upper-right {
  animation: wingFlapUpperRight 0.4s ease-in-out infinite;
}

.butterfly.flapping .butterfly-wing-lower-left {
  animation: wingFlapLowerLeft 0.4s ease-in-out infinite;
}

.butterfly.flapping .butterfly-wing-lower-right {
  animation: wingFlapLowerRight 0.4s ease-in-out infinite;
}

.butterfly.resting .butterfly-wing-upper-left,
.butterfly.resting .butterfly-wing-upper-right,
.butterfly.resting .butterfly-wing-lower-left,
.butterfly.resting .butterfly-wing-lower-right {
  animation: none;
  transform: rotateY(0deg) rotateX(0deg);
}

/* Butterfly body - centered and acts as anchor point */
.butterfly-body {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 4px;
  height: 45px;
  background: linear-gradient(to bottom, 
    #2c1810 0%, 
    #8B4513 20%, 
    #654321 40%, 
    #8B4513 60%, 
    #654321 80%, 
    #2c1810 100%);
  border-radius: 2px;
  z-index: 5;
  box-shadow: 
    inset 0 0 2px rgba(255, 255, 255, 0.3),
    0 2px 6px rgba(0, 0, 0, 0.4);
}

/* Body segments */
.butterfly-body::before {
  content: '';
  position: absolute;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  width: 6px;
  height: 3px;
  background: #2c1810;
  border-radius: 50%;
  box-shadow: 
    0 6px 0 0 #2c1810,
    0 12px 0 0 #2c1810,
    0 18px 0 0 #2c1810;
}

/* Antennae - perfectly centered */
.butterfly-antennae {
  position: absolute;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 6;
}

.butterfly-antennae::before {
  content: '';
  position: absolute;
  top: 0;
  left: -3px;
  width: 1px;
  height: 12px;
  background: #2c1810;
  border-radius: 1px;
  transform: rotate(-25deg);
  transform-origin: bottom;
}

.butterfly-antennae::after {
  content: '';
  position: absolute;
  top: 0;
  right: -3px;
  width: 1px;
  height: 12px;
  background: #2c1810;
  border-radius: 1px;
  transform: rotate(25deg);
  transform-origin: bottom;
}

/* Antennae tips */
.butterfly-antennae-tips {
  position: absolute;
  top: -2px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 7;
}

.butterfly-antennae-tips::before {
  content: '';
  position: absolute;
  top: 0;
  left: -8px;
  width: 2px;
  height: 2px;
  background: #2c1810;
  border-radius: 50%;
}

.butterfly-antennae-tips::after {
  content: '';
  position: absolute;
  top: 0;
  right: -8px;
  width: 2px;
  height: 2px;
  background: #2c1810;
  border-radius: 50%;
}

/* Upper wings - larger, main wings */
.butterfly-wing-upper {
  position: absolute;
  width: 32px;
  height: 28px;
  top: 12px;
  background: linear-gradient(135deg, 
    rgba(105, 213, 195, 0.9) 0%, 
    rgba(168, 230, 215, 0.8) 25%, 
    rgba(211, 237, 224, 0.7) 50%, 
    rgba(168, 230, 215, 0.8) 75%, 
    rgba(105, 213, 195, 0.9) 100%);
  border: 1px solid rgba(105, 213, 195, 0.6);
  box-shadow: 
    inset 0 3px 6px rgba(255, 255, 255, 0.4),
    inset 0 -2px 4px rgba(0, 0, 0, 0.1),
    0 4px 12px rgba(105, 213, 195, 0.3);
  backdrop-filter: blur(2px);
  border-radius: 70% 30% 80% 20%;
}

/* Left upper wing - positioned from body center */
.butterfly-wing-upper-left {
  left: calc(50% - 34px); /* 32px wing width + 2px gap from body center */
  transform-origin: calc(100% - 2px) 90%; /* Attach near body */
}

/* Right upper wing - positioned from body center */
.butterfly-wing-upper-right {
  left: calc(50% + 2px); /* 2px gap from body center */
  transform-origin: 2px 90%; /* Attach near body */
}

/* Lower wings - smaller, positioned below upper wings */
.butterfly-wing-lower {
  position: absolute;
  width: 20px;
  height: 16px;
  top: 32px;
  background: linear-gradient(135deg, 
    rgba(105, 213, 195, 0.8) 0%, 
    rgba(168, 230, 215, 0.7) 30%, 
    rgba(211, 237, 224, 0.6) 60%, 
    rgba(105, 213, 195, 0.8) 100%);
  border: 1px solid rgba(105, 213, 195, 0.5);
  box-shadow: 
    inset 0 2px 4px rgba(255, 255, 255, 0.3),
    inset 0 -1px 2px rgba(0, 0, 0, 0.1),
    0 3px 8px rgba(105, 213, 195, 0.25);
  backdrop-filter: blur(2px);
  border-radius: 60% 40% 80% 20%;
}

/* Left lower wing - positioned from body center */
.butterfly-wing-lower-left {
  left: calc(50% - 22px); /* 20px wing width + 2px gap from body center */
  transform-origin: calc(100% - 2px) 20%; /* Attach near body */
}

/* Right lower wing - positioned from body center */
.butterfly-wing-lower-right {
  left: calc(50% + 2px); /* 2px gap from body center */
  transform-origin: 2px 20%; /* Attach near body */
}

/* Wing patterns and inner details */
.butterfly-wing-upper::before {
  content: '';
  position: absolute;
  top: 6px;
  left: 6px;
  width: 18px;
  height: 15px;
  background: linear-gradient(135deg, 
    rgba(91, 196, 177, 0.6) 0%, 
    rgba(105, 213, 195, 0.8) 50%, 
    rgba(168, 230, 215, 0.6) 100%);
  border-radius: 60% 40% 70% 30%;
  border: 1px solid rgba(91, 196, 177, 0.4);
  box-shadow: 
    inset 0 1px 3px rgba(255, 255, 255, 0.4),
    0 2px 4px rgba(91, 196, 177, 0.2);
}

.butterfly-wing-lower::before {
  content: '';
  position: absolute;
  top: 3px;
  left: 3px;
  width: 12px;
  height: 8px;
  background: linear-gradient(135deg, 
    rgba(91, 196, 177, 0.5) 0%, 
    rgba(168, 230, 215, 0.6) 100%);
  border-radius: 50% 50% 60% 40%;
  border: 1px solid rgba(91, 196, 177, 0.3);
  opacity: 0.8;
}

/* Wing spots/patterns */
.butterfly-wing-pattern {
  position: absolute;
  width: 4px;
  height: 4px;
  background: radial-gradient(circle, rgba(69, 123, 157, 0.6), rgba(69, 123, 157, 0.2));
  border-radius: 50%;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.butterfly-wing-upper-left .butterfly-wing-pattern {
  top: 8px;
  left: 14px;
}

.butterfly-wing-upper-right .butterfly-wing-pattern {
  top: 8px;
  left: 14px;
}

.butterfly-wing-lower-left .butterfly-wing-pattern {
  top: 4px;
  left: 8px;
  width: 3px;
  height: 3px;
}

.butterfly-wing-lower-right .butterfly-wing-pattern {
  top: 4px;
  left: 8px;
  width: 3px;
  height: 3px;
}

/* Wing Flapping Animations */
@keyframes wingFlapUpperLeft {
  0%, 100% {
    transform: rotateY(0deg) rotateX(0deg);
  }
  50% {
    transform: rotateY(-45deg) rotateX(15deg);
  }
}

@keyframes wingFlapUpperRight {
  0%, 100% {
    transform: rotateY(0deg) rotateX(0deg);
  }
  50% {
    transform: rotateY(45deg) rotateX(15deg);
  }
}

@keyframes wingFlapLowerLeft {
  0%, 100% {
    transform: rotateY(0deg) rotateX(0deg);
  }
  50% {
    transform: rotateY(-35deg) rotateX(10deg);
  }
}

@keyframes wingFlapLowerRight {
  0%, 100% {
    transform: rotateY(0deg) rotateX(0deg);
  }
  50% {
    transform: rotateY(35deg) rotateX(10deg);
  }
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .butterfly {
    width: 65px;
    height: 50px;
  }
  
  .butterfly-wing-upper {
    width: 26px;
    height: 23px;
  }
  
  .butterfly-wing-lower {
    width: 16px;
    height: 13px;
    top: 28px;
  }
  
  .butterfly-wing-upper-left {
    left: calc(50% - 28px);
  }
  
  .butterfly-wing-upper-right {
    left: calc(50% + 2px);
  }
  
  .butterfly-wing-lower-left {
    left: calc(50% - 18px);
  }
  
  .butterfly-wing-lower-right {
    left: calc(50% + 2px);
  }
  
  .butterfly-body {
    height: 38px;
  }
}

@media (max-width: 480px) {
  .butterfly {
    width: 55px;
    height: 42px;
  }
  
  .butterfly-wing-upper {
    width: 22px;
    height: 19px;
  }
  
  .butterfly-wing-lower {
    width: 14px;
    height: 11px;
    top: 24px;
  }
  
  .butterfly-wing-upper-left {
    left: calc(50% - 24px);
  }
  
  .butterfly-wing-upper-right {
    left: calc(50% + 2px);
  }
  
  .butterfly-wing-lower-left {
    left: calc(50% - 16px);
  }
  
  .butterfly-wing-lower-right {
    left: calc(50% + 2px);
  }
  
  .butterfly-body {
    height: 32px;
  }
}