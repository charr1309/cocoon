.butterfly-cursor {
  position: fixed;
  transform: translate(-50%, -50%);
  opacity: 0;
  transition: opacity 1s ease;
  pointer-events: none;
  z-index: 9999;
  perspective: 200px;
  transform-style: preserve-3d;
}

.butterfly-cursor.visible {
  opacity: 1;
}

.butterfly {
  position: relative;
  width: 80px;
  height: 60px;
  transform-style: preserve-3d;
  transform-origin: center center;
  filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.3));
  transition: transform 0.15s ease-out;
}

.butterfly.flapping .butterfly-wing-upper-left {
  animation: wingFlapUpperLeft 0.4s ease-in-out infinite;
}

.butterfly.flapping .butterfly-wing-upper-right {
  animation: wingFlapUpperRight 0.4s ease-in-out infinite;
}

.butterfly.flapping .butterfly-wing-lower-left {
  animation: wingFlapLowerLeft 0.4s ease-in-out infinite;
}

.butterfly.flapping .butterfly-wing-lower-right {
  animation: wingFlapLowerRight 0.4s ease-in-out infinite;
}

.butterfly.resting .butterfly-wing-upper-left,
.butterfly.resting .butterfly-wing-upper-right,
.butterfly.resting .butterfly-wing-lower-left,
.butterfly.resting .butterfly-wing-lower-right {
  animation: none;
}

/* Realistic butterfly body */
.butterfly-body {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 4px;
  height: 45px;
  background: linear-gradient(to bottom, 
    #2c1810 0%, 
    #8B4513 20%, 
    #654321 40%, 
    #8B4513 60%, 
    #654321 80%, 
    #2c1810 100%);
  border-radius: 2px;
  z-index: 5;
  box-shadow: 
    inset 0 0 2px rgba(255, 255, 255, 0.3),
    0 2px 6px rgba(0, 0, 0, 0.4);
}

/* Body segments */
.butterfly-body::before {
  content: '';
  position: absolute;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  width: 6px;
  height: 3px;
  background: #2c1810;
  border-radius: 50%;
  box-shadow: 
    0 6px 0 0 #2c1810,
    0 12px 0 0 #2c1810,
    0 18px 0 0 #2c1810;
}

/* Antennae */
.butterfly-antennae {
  position: absolute;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 6;
}

.butterfly-antennae::before {
  content: '';
  position: absolute;
  top: 0;
  left: -3px;
  width: 1px;
  height: 12px;
  background: #2c1810;
  border-radius: 1px;
  transform: rotate(-25deg);
  transform-origin: bottom;
}

.butterfly-antennae::after {
  content: '';
  position: absolute;
  top: 0;
  right: -3px;
  width: 1px;
  height: 12px;
  background: #2c1810;
  border-radius: 1px;
  transform: rotate(25deg);
  transform-origin: bottom;
}

/* Antennae tips */
.butterfly-antennae-tips {
  position: absolute;
  top: -2px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 7;
}

.butterfly-antennae-tips::before {
  content: '';
  position: absolute;
  top: 0;
  left: -8px;
  width: 2px;
  height: 2px;
  background: #2c1810;
  border-radius: 50%;
}

.butterfly-antennae-tips::after {
  content: '';
  position: absolute;
  top: 0;
  right: -8px;
  width: 2px;
  height: 2px;
  background: #2c1810;
  border-radius: 50%;
}

/* Upper wings - larger, more prominent */
.butterfly-wing-upper {
  position: absolute;
  width: 35px;
  height: 32px;
  top: 12px;
  background: linear-gradient(135deg, 
    rgba(105, 213, 195, 0.9) 0%, 
    rgba(168, 230, 215, 0.8) 25%, 
    rgba(211, 237, 224, 0.7) 50%, 
    rgba(168, 230, 215, 0.8) 75%, 
    rgba(105, 213, 195, 0.9) 100%);
  border: 1px solid rgba(105, 213, 195, 0.6);
  box-shadow: 
    inset 0 3px 6px rgba(255, 255, 255, 0.4),
    inset 0 -2px 4px rgba(0, 0, 0, 0.1),
    0 4px 12px rgba(105, 213, 195, 0.3);
  backdrop-filter: blur(2px);
}

.butterfly-wing-upper-left {
  left: 6px;
  border-radius: 80% 20% 60% 40% / 70% 30% 80% 20%;
  transform-origin: 85% 90%;
  clip-path: polygon(0% 20%, 15% 0%, 85% 5%, 95% 25%, 90% 60%, 70% 85%, 40% 95%, 20% 80%, 5% 50%);
}

.butterfly-wing-upper-right {
  right: 6px;
  border-radius: 20% 80% 40% 60% / 30% 70% 20% 80%;
  transform-origin: 15% 90%;
  transform: scaleX(-1);
  clip-path: polygon(0% 20%, 15% 0%, 85% 5%, 95% 25%, 90% 60%, 70% 85%, 40% 95%, 20% 80%, 5% 50%);
}

/* Lower wings - smaller, more delicate */
.butterfly-wing-lower {
  position: absolute;
  width: 22px;
  height: 20px;
  top: 35px;
  background: linear-gradient(135deg, 
    rgba(105, 213, 195, 0.8) 0%, 
    rgba(168, 230, 215, 0.7) 30%, 
    rgba(211, 237, 224, 0.6) 60%, 
    rgba(105, 213, 195, 0.8) 100%);
  border: 1px solid rgba(105, 213, 195, 0.5);
  box-shadow: 
    inset 0 2px 4px rgba(255, 255, 255, 0.3),
    inset 0 -1px 2px rgba(0, 0, 0, 0.1),
    0 3px 8px rgba(105, 213, 195, 0.25);
  backdrop-filter: blur(2px);
}

.butterfly-wing-lower-left {
  left: 12px;
  border-radius: 60% 40% 80% 20% / 50% 50% 90% 10%;
  transform-origin: 75% 20%;
  clip-path: polygon(10% 0%, 70% 5%, 95% 30%, 90% 70%, 60% 95%, 20% 85%, 5% 40%);
}

.butterfly-wing-lower-right {
  right: 12px;
  border-radius: 40% 60% 20% 80% / 50% 50% 10% 90%;
  transform-origin: 25% 20%;
  transform: scaleX(-1);
  clip-path: polygon(10% 0%, 70% 5%, 95% 30%, 90% 70%, 60% 95%, 20% 85%, 5% 40%);
}

/* Wing patterns and details */
.butterfly-wing-upper::before {
  content: '';
  position: absolute;
  top: 8px;
  left: 8px;
  width: 18px;
  height: 15px;
  background: linear-gradient(135deg, 
    rgba(91, 196, 177, 0.6) 0%, 
    rgba(105, 213, 195, 0.8) 50%, 
    rgba(168, 230, 215, 0.6) 100%);
  border-radius: 60% 40% 70% 30%;
  border: 1px solid rgba(91, 196, 177, 0.4);
  box-shadow: 
    inset 0 1px 3px rgba(255, 255, 255, 0.4),
    0 2px 4px rgba(91, 196, 177, 0.2);
}

.butterfly-wing-lower::before {
  content: '';
  position: absolute;
  top: 4px;
  left: 4px;
  width: 12px;
  height: 10px;
  background: linear-gradient(135deg, 
    rgba(91, 196, 177, 0.5) 0%, 
    rgba(168, 230, 215, 0.6) 100%);
  border-radius: 50% 50% 60% 40%;
  border: 1px solid rgba(91, 196, 177, 0.3);
  opacity: 0.8;
}

/* Wing spots/patterns */
.butterfly-wing-pattern {
  position: absolute;
  width: 4px;
  height: 4px;
  background: radial-gradient(circle, rgba(69, 123, 157, 0.6), rgba(69, 123, 157, 0.2));
  border-radius: 50%;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.butterfly-wing-upper-left .butterfly-wing-pattern {
  top: 6px;
  left: 12px;
}

.butterfly-wing-upper-right .butterfly-wing-pattern {
  top: 6px;
  right: 12px;
}

.butterfly-wing-lower-left .butterfly-wing-pattern {
  top: 3px;
  left: 8px;
  width: 3px;
  height: 3px;
}

.butterfly-wing-lower-right .butterfly-wing-pattern {
  top: 3px;
  right: 8px;
  width: 3px;
  height: 3px;
}

/* Realistic wing flapping animations */
@keyframes wingFlapUpperLeft {
  0% {
    transform: rotateY(0deg) rotateX(0deg);
  }
  50% {
    transform: rotateY(-45deg) rotateX(15deg);
  }
  100% {
    transform: rotateY(0deg) rotateX(0deg);
  }
}

@keyframes wingFlapUpperRight {
  0% {
    transform: scaleX(-1) rotateY(0deg) rotateX(0deg);
  }
  50% {
    transform: scaleX(-1) rotateY(-45deg) rotateX(15deg);
  }
  100% {
    transform: scaleX(-1) rotateY(0deg) rotateX(0deg);
  }
}

@keyframes wingFlapLowerLeft {
  0% {
    transform: rotateY(0deg) rotateX(0deg);
  }
  50% {
    transform: rotateY(-35deg) rotateX(10deg);
  }
  100% {
    transform: rotateY(0deg) rotateX(0deg);
  }
}

@keyframes wingFlapLowerRight {
  0% {
    transform: scaleX(-1) rotateY(0deg) rotateX(0deg);
  }
  50% {
    transform: scaleX(-1) rotateY(-35deg) rotateX(10deg);
  }
  100% {
    transform: scaleX(-1) rotateY(0deg) rotateX(0deg);
  }
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .butterfly {
    width: 65px;
    height: 50px;
  }
  
  .butterfly-wing-upper {
    width: 28px;
    height: 26px;
  }
  
  .butterfly-wing-lower {
    width: 18px;
    height: 16px;
    top: 30px;
  }
  
  .butterfly-body {
    height: 38px;
  }
}

@media (max-width: 480px) {
  .butterfly {
    width: 55px;
    height: 42px;
  }
  
  .butterfly-wing-upper {
    width: 24px;
    height: 22px;
  }
  
  .butterfly-wing-lower {
    width: 15px;
    height: 14px;
    top: 26px;
  }
  
  .butterfly-body {
    height: 32px;
  }
}